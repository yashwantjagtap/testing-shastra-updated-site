{"version":3,"sources":["commonRoute.js"],"names":["router","require","Router","middleware","IndexModel","EmailModule","emailTemplate","get","req","res","next","render","title","checkForPoolConnection","years","getPlacementYear","pool","then","result","getPlacementList","list","error","send","call","data","params","ass_name","redirect","post","body","addNewStudent","smsData","to","candidateEmailId","subject","message","webinar","candidateFName","candidateLName","sendEmailGmail","status","enquiry","module","exports"],"mappings":"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","sourcesContent":["var router = require(\"express\").Router();\r\nvar middleware = require(\"./middleware\");\r\nvar IndexModel = require(\"../app/model/IndexModel\");\r\nvar EmailModule = require(\"../app/model/emailModel\");\r\nvar emailTemplate = require(\"../app/model/emailTemplate\");\r\n\r\n/* GET home page. */\r\nrouter.get(\"/\", function (req, res, next) {\r\n  res.render(\"index\", { title: \"Testing Shastra | Training | Placement\" });\r\n});\r\n\r\n// get Mock Interview Remarks\r\nrouter.get(\"/mock-interview-remarks\", function (req, res, next) {\r\n  res.render(\"mockInterview\", { title: \"Testing Shastra | Training | Placement\" });\r\n});\r\n\r\nrouter.get(\"/assignments\", function (req, res, next) {\r\n  res.render(\"pages/assignments\", {\r\n    title: \"Testing Shastra | Programs | Assignment\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/notes\", function (req, res, next) {\r\n  res.render(\"pages/notes\", {\r\n    title: \"Testing Shastra | Programs | Notes\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/contact-us\", function (req, res, next) {\r\n  res.render(\"pages/contact_us\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\r\n  \"/recent-placements\",\r\n  middleware.checkForPoolConnection,\r\n  function (req, res) {\r\n    var years = [];\r\n    IndexModel.getPlacementYear(res.pool)\r\n      .then((result) => {\r\n        years = result;\r\n        return IndexModel.getPlacementList(res.pool);\r\n      })\r\n      .then((result) => {\r\n        res.render(\"pages/Recent_Placements\", {\r\n          title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n          list: result,\r\n          years: years,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        res.send({ call: 0, error });\r\n      });\r\n    return false;\r\n    // id: 5,\r\n    // emp_name: \"MAYURI T.\",\r\n    // emp_company: \"TCS\",\r\n    // emp_package: \"6.50LPA\",\r\n    // emp_year: 2017,\r\n  }\r\n);\r\n\r\nrouter.get(\"/registration\", function (req, res, next) {\r\n  res.render(\"pages/registration\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/assignments/:ass_name\", function (req, res, next) {\r\n  var data = req.params.ass_name;\r\n  switch (data) {\r\n    case \"confirmation-alert\":\r\n      res.render(\"assignments/ConfirmationAlert\", {\r\n        title: \"Testing Shastra Assignments | ConfirmationAlert\",\r\n      });\r\n      break;\r\n    case \"prompt\":\r\n      res.render(\"assignments/Prompt\", {\r\n        title: \"Testing Shastra Assignments | Prompt\",\r\n      });\r\n      break;\r\n\r\n    case \"simple-alert\":\r\n      res.render(\"assignments/SimpleAlert\", {\r\n        title: \"Testing Shastra Assignments | SimpleAlert\",\r\n      });\r\n      break;\r\n\r\n    case \"windowHandlingDemo\":\r\n      res.render(\"assignments/windowHandlingDemo\", {\r\n        title: \"Testing Shastra Assignments | windowHandlingDemo\",\r\n      });\r\n      break;\r\n    case \"parent-window\":\r\n      res.render(\"assignments/ParentWindow\", {\r\n        title: \"Testing Shastra Assignments | ParentWindow\",\r\n      });\r\n      break;\r\n    case \"drag-and-drop\":\r\n      res.render(\"assignments/DragAndDrop\", {\r\n        title: \"Testing Shastra Assignments | DragAndDrop\",\r\n      });\r\n      break;\r\n    case \"drop-down\":\r\n      res.render(\"assignments/DropDown\", {\r\n        title: \"Testing Shastra Assignments | DropDown\",\r\n      });\r\n      break;\r\n    case \"Tooltip\":\r\n      res.render(\"assignments/Tooltip\", {\r\n        title: \"Testing Shastra Assignments | ToolTip\",\r\n      });\r\n      break;\r\n    default:\r\n      res.redirect(\"/\");\r\n      break;\r\n  }\r\n});\r\n\r\nrouter.get(\"/course/automation-testing\", function (req, res, next) {\r\n  res.render(\"pages/course\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/course/python-selenium\", function (req, res, next) {\r\n  res.render(\"pages/python\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/course/java-full-stack\", function (req, res, next) {\r\n  res.render(\"pages/java_full_stack\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/course/mern-stack\", function (req, res, next) {\r\n  res.render(\"pages/mern\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/course/rest-api-developer\", function (req, res, next) {\r\n  res.render(\"pages/restApi\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/webinar-registration\", function (req, res, next) {\r\n  res.render(\"pages/registration\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.post(\r\n  \"/save-webinar-candidate\",\r\n  middleware.checkForPoolConnection,\r\n  function (req, res) {\r\n    var data = req.body;\r\n    IndexModel.addNewStudent(res.pool, data)\r\n      .then(function (result) {\r\n        var smsData = {\r\n          to: data.candidateEmailId,\r\n          subject:\r\n            \"Testing Shastraâ„¢ï¸ Registration For Live Webinar on Selenium ðŸ‘\",\r\n          message: emailTemplate.webinar(\r\n            `${data.candidateFName} ${data.candidateLName}`\r\n          ),\r\n        };\r\n        return EmailModule.sendEmailGmail(smsData);\r\n      })\r\n      .then(function (result) {\r\n        res.status(200).send({ call: 1, result });\r\n      })\r\n      .catch((error) => {\r\n        res.status(500).send({ call: 0, error });\r\n      });\r\n  }\r\n);\r\n\r\nrouter.post(\"/save-enquiry\", function (req, res) {\r\n  var data = req.body;\r\n  var smsData = {\r\n    to: \"info@testingshastra.com\",\r\n    subject: \"Enquiry On Testing Shastra\",\r\n    message: emailTemplate.enquiry(data),\r\n  };\r\n  EmailModule.sendEmailGmail(smsData)\r\n    .then(function (result) {\r\n      res.status(200).send({ call: 1, result });\r\n    })\r\n    .catch((error) => {\r\n      res.status(500).send({ call: 0, error });\r\n    });\r\n});\r\nmodule.exports = router;\r\n"],"file":"commonRoute.dev.js"}