{"version":3,"sources":["commonRoute.js"],"names":["router","require","Router","middleware","EmailModule","IndexModel","req","res","next","render","title","emailTemplate","get","checkForPoolConnection","call","getPlacementYear","pool","then","result","years","getPlacementList","error","send","params","ass_name","redirect","post","addNewStudent","smsData","to","data","candidateEmailId","subject","message","status","webinar","concat","sendEmailGmail","exports","module"],"mappings":"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","file":"commonRoute.min.js","sourcesContent":["var router = require(\"express\").Router();\r\nvar middleware = require(\"./middleware\");\r\nvar IndexModel = require(\"../app/model/IndexModel\");\r\nvar EmailModule = require(\"../app/model/emailModel\");\r\nvar emailTemplate = require(\"../app/model/emailTemplate\");\r\n/* GET home page. */\r\nrouter.get(\"/\", function (req, res, next) {\r\n  res.render(\"index\", { title: \"Testing Shastra | Training | Placement\" });\r\n});\r\n\r\nrouter.get(\"/assignments\", function (req, res, next) {\r\n  res.render(\"pages/assignments\", {\r\n    title: \"Testing Shastra | Programs | Assignment\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/contact-us\", function (req, res, next) {\r\n  res.render(\"pages/contact_us\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\r\n  \"/recent-placements\",\r\n  middleware.checkForPoolConnection,\r\n  function (req, res) {\r\n    var years = [];\r\n    IndexModel.getPlacementYear(res.pool)\r\n      .then((result) => {\r\n        years = result;\r\n        return IndexModel.getPlacementList(res.pool);\r\n      })\r\n      .then((result) => {\r\n        res.render(\"pages/Recent_Placements\", {\r\n          title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n          list: result,\r\n          years: years,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        res.send({ call: 0, error });\r\n      });\r\n    return false;\r\n    // id: 5,\r\n    // emp_name: \"MAYURI T.\",\r\n    // emp_company: \"TCS\",\r\n    // emp_package: \"6.50LPA\",\r\n    // emp_year: 2017,\r\n  }\r\n);\r\n\r\nrouter.get(\"/registration\", function (req, res, next) {\r\n  res.render(\"pages/registration\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/assignments/:ass_name\", function (req, res, next) {\r\n  var data = req.params.ass_name;\r\n  switch (data) {\r\n    case \"confirmation-alert\":\r\n      res.render(\"assignments/ConfirmationAlert\", {\r\n        title: \"Testing Shastra Assignments | ConfirmationAlert\",\r\n      });\r\n      break;\r\n    case \"prompt\":\r\n      res.render(\"assignments/Prompt\", {\r\n        title: \"Testing Shastra Assignments | Prompt\",\r\n      });\r\n      break;\r\n\r\n    case \"simple-alert\":\r\n      res.render(\"assignments/SimpleAlert\", {\r\n        title: \"Testing Shastra Assignments | SimpleAlert\",\r\n      });\r\n      break;\r\n\r\n    case \"windowHandlingDemo\":\r\n      res.render(\"assignments/windowHandlingDemo\", {\r\n        title: \"Testing Shastra Assignments | windowHandlingDemo\",\r\n      });\r\n      break;\r\n    case \"parent-window\":\r\n      res.render(\"assignments/ParentWindow\", {\r\n        title: \"Testing Shastra Assignments | ParentWindow\",\r\n      });\r\n      break;\r\n    case \"drag-and-drop\":\r\n      res.render(\"assignments/DragAndDrop\", {\r\n        title: \"Testing Shastra Assignments | DragAndDrop\",\r\n      });\r\n      break;\r\n    case \"drop-down\":\r\n      res.render(\"assignments/DropDown\", {\r\n        title: \"Testing Shastra Assignments | DropDown\",\r\n      });\r\n      break;\r\n    case \"Tooltip\":\r\n      res.render(\"assignments/Tooltip\", {\r\n        title: \"Testing Shastra Assignments | ToolTip\",\r\n      });\r\n      break;\r\n    default:\r\n      res.redirect(\"/\");\r\n      break;\r\n  }\r\n});\r\n\r\nrouter.get(\"/course/automation-testing\", function (req, res, next) {\r\n  res.render(\"pages/course\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/course/python-selenium\", function (req, res, next) {\r\n  res.render(\"pages/python\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/course/java-full-stack\", function (req, res, next) {\r\n  res.render(\"pages/java_full_stack\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/course/mern-stack\", function (req, res, next) {\r\n  res.render(\"pages/mern\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/course/rest-api-developer\", function (req, res, next) {\r\n  res.render(\"pages/restApi\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/webinar-registration\", function (req, res, next) {\r\n  res.render(\"pages/registration\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.post(\r\n  \"/save-webinar-candidate\",\r\n  middleware.checkForPoolConnection,\r\n  function (req, res) {\r\n    var data = req.body;\r\n    IndexModel.addNewStudent(res.pool, data)\r\n      .then(function (result) {\r\n        var smsData = {\r\n          to: data.candidateEmailId,\r\n          subject:\r\n            \"Testing Shastra™️ Registration For Live Webinar on Selenium 👍\",\r\n          message: emailTemplate.webinar(\r\n            `${data.candidateFName} ${data.candidateLName}`\r\n          ),\r\n        };\r\n        return EmailModule.sendEmailGmail(smsData);\r\n      })\r\n      .then(function (result) {\r\n        res.status(200).send({ call: 1, result });\r\n      })\r\n      .catch((error) => {\r\n        res.status(500).send({ call: 0, error });\r\n      });\r\n  }\r\n);\r\nmodule.exports = router;\r\n"]}