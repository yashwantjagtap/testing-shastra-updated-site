{"version":3,"sources":["commonRoute.js"],"names":["router","require","Router","middleware","EmailModule","get","req","res","next","render","title","checkForPoolConnection","years","error","IndexModel","getPlacementYear","pool","result","then","send","call","data","params","ass_name","redirect","smsData","to","candidateEmailId","subject","body","message","emailTemplate","webinar","status","candidateFName","candidateLName","sendEmailGmail","post","enquiry","module","exports"],"mappings":"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","file":"commonRoute.min.js","sourcesContent":["var router = require(\"express\").Router();\r\nvar middleware = require(\"./middleware\");\r\nvar IndexModel = require(\"../app/model/IndexModel\");\r\nvar EmailModule = require(\"../app/model/emailModel\");\r\nvar emailTemplate = require(\"../app/model/emailTemplate\");\r\n\r\n/* GET home page. */\r\nrouter.get(\"/\", function (req, res, next) {\r\n  res.render(\"index\", { title: \"Testing Shastra | Training | Placement\" });\r\n});\r\n\r\n// get Mock Interview Remarks\r\nrouter.get(\"/mock-interview-remarks\", function (req, res, next) {\r\n  res.render(\"mockInterview\", { title: \"Testing Shastra | Training | Placement\" });\r\n});\r\n\r\nrouter.get(\"/assignments\", function (req, res, next) {\r\n  res.render(\"pages/assignments\", {\r\n    title: \"Testing Shastra | Programs | Assignment\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/notes\", function (req, res, next) {\r\n  res.render(\"pages/notes\", {\r\n    title: \"Testing Shastra | Programs | Notes\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/contact-us\", function (req, res, next) {\r\n  res.render(\"pages/contact_us\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\r\n  \"/recent-placements\",\r\n  middleware.checkForPoolConnection,\r\n  function (req, res) {\r\n    var years = [];\r\n    IndexModel.getPlacementYear(res.pool)\r\n      .then((result) => {\r\n        years = result;\r\n        return IndexModel.getPlacementList(res.pool);\r\n      })\r\n      .then((result) => {\r\n        res.render(\"pages/Recent_Placements\", {\r\n          title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n          list: result,\r\n          years: years,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        res.send({ call: 0, error });\r\n      });\r\n    return false;\r\n    // id: 5,\r\n    // emp_name: \"MAYURI T.\",\r\n    // emp_company: \"TCS\",\r\n    // emp_package: \"6.50LPA\",\r\n    // emp_year: 2017,\r\n  }\r\n);\r\n\r\nrouter.get(\"/registration\", function (req, res, next) {\r\n  res.render(\"pages/registration\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/assignments/:ass_name\", function (req, res, next) {\r\n  var data = req.params.ass_name;\r\n  switch (data) {\r\n    case \"confirmation-alert\":\r\n      res.render(\"assignments/ConfirmationAlert\", {\r\n        title: \"Testing Shastra Assignments | ConfirmationAlert\",\r\n      });\r\n      break;\r\n    case \"prompt\":\r\n      res.render(\"assignments/Prompt\", {\r\n        title: \"Testing Shastra Assignments | Prompt\",\r\n      });\r\n      break;\r\n\r\n    case \"simple-alert\":\r\n      res.render(\"assignments/SimpleAlert\", {\r\n        title: \"Testing Shastra Assignments | SimpleAlert\",\r\n      });\r\n      break;\r\n\r\n    case \"windowHandlingDemo\":\r\n      res.render(\"assignments/windowHandlingDemo\", {\r\n        title: \"Testing Shastra Assignments | windowHandlingDemo\",\r\n      });\r\n      break;\r\n    case \"parent-window\":\r\n      res.render(\"assignments/ParentWindow\", {\r\n        title: \"Testing Shastra Assignments | ParentWindow\",\r\n      });\r\n      break;\r\n    case \"drag-and-drop\":\r\n      res.render(\"assignments/DragAndDrop\", {\r\n        title: \"Testing Shastra Assignments | DragAndDrop\",\r\n      });\r\n      break;\r\n    case \"drop-down\":\r\n      res.render(\"assignments/DropDown\", {\r\n        title: \"Testing Shastra Assignments | DropDown\",\r\n      });\r\n      break;\r\n    case \"Tooltip\":\r\n      res.render(\"assignments/Tooltip\", {\r\n        title: \"Testing Shastra Assignments | ToolTip\",\r\n      });\r\n      break;\r\n    default:\r\n      res.redirect(\"/\");\r\n      break;\r\n  }\r\n});\r\n\r\nrouter.get(\"/course/automation-testing\", function (req, res, next) {\r\n  res.render(\"pages/course\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/course/python-selenium\", function (req, res, next) {\r\n  res.render(\"pages/python\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/course/java-full-stack\", function (req, res, next) {\r\n  res.render(\"pages/java_full_stack\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/course/mern-stack\", function (req, res, next) {\r\n  res.render(\"pages/mern\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/course/rest-api-developer\", function (req, res, next) {\r\n  res.render(\"pages/restApi\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.get(\"/webinar-registration\", function (req, res, next) {\r\n  res.render(\"pages/registration\", {\r\n    title: \"Testing Shastra | Contact Us | Get In Touch | Address\",\r\n  });\r\n});\r\n\r\nrouter.post(\r\n  \"/save-webinar-candidate\",\r\n  middleware.checkForPoolConnection,\r\n  function (req, res) {\r\n    var data = req.body;\r\n    IndexModel.addNewStudent(res.pool, data)\r\n      .then(function (result) {\r\n        var smsData = {\r\n          to: data.candidateEmailId,\r\n          subject:\r\n            \"Testing Shastra™️ Registration For Live Webinar on Selenium 👍\",\r\n          message: emailTemplate.webinar(\r\n            `${data.candidateFName} ${data.candidateLName}`\r\n          ),\r\n        };\r\n        return EmailModule.sendEmailGmail(smsData);\r\n      })\r\n      .then(function (result) {\r\n        res.status(200).send({ call: 1, result });\r\n      })\r\n      .catch((error) => {\r\n        res.status(500).send({ call: 0, error });\r\n      });\r\n  }\r\n);\r\n\r\nrouter.post(\"/save-enquiry\", function (req, res) {\r\n  var data = req.body;\r\n  var smsData = {\r\n    to: \"info@testingshastra.com\",\r\n    subject: \"Enquiry On Testing Shastra\",\r\n    message: emailTemplate.enquiry(data),\r\n  };\r\n  EmailModule.sendEmailGmail(smsData)\r\n    .then(function (result) {\r\n      res.status(200).send({ call: 1, result });\r\n    })\r\n    .catch((error) => {\r\n      res.status(500).send({ call: 0, error });\r\n    });\r\n});\r\nmodule.exports = router;\r\n"]}